<strong>병행성과 병행 프로세스</strong><br/><br/><br/>
병행성(concurrency)<br/><br/>
여러 개의 프로세스 또는 쓰레드가 동시 수행되는 시스템의 특성<br/>
<br/><br/>
병행 프로세스<br/><br/>
동시 수행되는 여러 개의 프로세스 또는 쓰레드<br/><br/><br/>

<strong>병행 프로세스의 실행 형태</strong><br/><br/><br/>
1개의 CPU: 인터리빙 형식<br/>
여러개의 CPU : 병렬처리 형식 <br/>
멀티 프로세서 시스템에서의 메모리 구조에 따라 강결합시스템(공유메모리 구조)과 약결합시스템(분산 메모리 구조,통신선)이 있음<br/><br/><br/>

<strong>프로세스간의 관계</strong><br/><br/><br/>
독립 프로세스<br/><br/>
수행중인 달느 프로세스에 영향을 주지도 받지도 않음<br/>
데이터 및 상태를 다른 프로세스와 공유하지 않음<br/>
프로세스의 실행<br/>
- 결정적: 실행결과는 입력에 의해서면 결정됨
- 재생가능: 같은 입력에 대해 항상 동일한 실행결과 <br/><br/>

협력 프로세스<br/><br/>
수행중인 다른 프로세스와 영향을 주고 받음 <br/>
데이터 및 상태를 다른 프로세스와 공유<br/>
프로세스의 실행<br/>
- 비결정적: 실행결과는 실행순서에 좌우됨<br/>
- 재생 불가능: 같은 입력에 대해 항상 동일한 실행결과를 보장하지 못함<br/><br/>

<strong>병행성 문제(협력프로세스 경우)</strong><br/><br/><br/>

협력 프로세스인 경우 발생 가능한 문제<br/><br/>
상호배제<br/>
동기화<br/>
통신<br/><br/>

상호배제<br/>
2개 이상의 프로세스가 동시에 임계영역을 수행하지 못하도록 하는 것<br/>
- 임계영역 : 2개 이상의 프로세스가 동시에 사용하면 안 되는 공유자원을 액세스하는 프로그램 코드 영역 <br/>

동기화<br/>
2개 이상의 프로세스에 대한 처리순서를 결정하는 것<br/>
- 프로세스 동기화<br/>
상호배제: 임계영역에 대한 동기화 문제<br/>

통신<br/>
프로세스들이 데이터를 공유하기 위해 반드시 필요<br/>
- 프로세스간 통신(IPC)<br/>

통신 방법<br/>
- 하나의 변수 사용
- 메시지를 서로 주고받음<br/>

<strong>세마포어(semaphore)</strong><br/><br/><br/>

상호배제와 동기화 문제를 해결하기 위한 도구<br/>
Dijkstra가 제안 <br/>
정수형 공용 변수 <br/>
- 저장값 : 사용 가능한 자원의 수 또는 잠김이나 풀림의 상태<br/>

상황에 맞춰 0 이상인 정수로 초기화<br/>
두 기본연산 p와 v에 의해서만 사용됨<br/>
- 기본연산: 인터럽트되지 않고 하나의 단위로 처리됨<br/>

<br/>
연산 p<br/>
검사, 감소시키려는 시도<br/>
<br/>
연산 v <br/>
증가<br/>
대기중인 프로세스가 없는지 체크 후 없다면 세마포어값을 증가시킴<br/>
<br/>
세마포어마다 대기 큐 필요<br/>
<br/><br/>
<strong>상호배제 해결</strong><br/><br/><br/>
상호배제를 위한 일반적인 요구사항<br/><br/>
한 프로세스가 임계영역 수행 중(다른 프로세스는 임계영역에 진입해서는 안 됨)<br/>
임계영역 수행 중이던 프로세스가 임계영역 벗어남(누군가 하나는 임계영역을 새로이 수행할 수 있어야 함)<br/>
임계영역 진입 못하고 대기하는 프로세스(적절한 시간 내에 임계영역 수행을 시작할 수 있어야 함)<br/><br/>

상호배제를 위한 임계영역 주변의 코드 영역<br/>
(진입영역)임계영역에 대한 수행을 해도 되는지 체크<br/>
(해지영역)다른  프로세스가 임계영역 수행을 시작할 수 있도록 함<br/><br/>

세마포어 이용<br/>
세마포어 mutex 초기값은 1<br/>
진입영역: P(mutex)<br/>
해제영역 : v(mutex)<br/>
대기 큐는 FIFO로 동작<br/><br/>

상호배제 해결 예<br/>
프로세스가 3개일 때 제일먼저 P가 호출 했을 때 mutex가 0보다 큰지 확인 <br/>
0이거나 0보다 작으면 대기 큐에 멈춰서 기다림 <br/>
임계영역 수행 후 해지영역에서 대기 큐에 기다리는 것이 있으면 다음 실행시켜 주고, 없으면 mutex 1로 변경후 종료<br/><br/>
<br/>

동기화 해결<br/><br/>
상황 : 프로세스 A가 코드 s1을 수행한 후, 
프로세스 B가 코드s2를  수행하도록 동기화 <br/>
세마포어 sync 초깃값은 0<br/>
대기하는 것이 없으면 sync 1로 증가 <br/>
P연산 <br/>


